<head>
  <style> body { margin: 0; } </style>

  <script src="//unpkg.com/three"></script>
  <script src="//unpkg.com/three/examples/js/postprocessing/Pass.js"></script>
  <script src="//unpkg.com/three/examples/js/shaders/CopyShader.js"></script>
  <script src="//unpkg.com/three/examples/js/shaders/LuminosityHighPassShader.js"></script>
  <script src="//unpkg.com/three/examples/js/postprocessing/UnrealBloomPass.js"></script>

  <script src="//unpkg.com/3d-force-graph"></script>
  <style>
    .scene-tooltip {
      font-size: 30px;
      padding: 4px 4px;
      border-radius: 4px;
      background-color: rgba(0,0,0,0.5);
    }
  </style>
<!--  <script src="../../dist/3d-force-graph.js"></script>-->
</head>

<body>
  <div id="3d-graph"></div>

  <script>
    const gData = {
      nodes: [
        {id:1, group:1, name:"地震灾情信息语义库", val:10},
        {id:2, group:2, name:"灾情信息", val:7},
        {id:3, group:2, name:"震情信息", val:7},
        {id:4, group:2, name:"处置信息/灾情响应", val:7},
        {id:5, group:2, name:"处置效益", val:7},
        {id:6, group:3, name:"应急指挥协调", val:5},
        {id:7, group:3, name:"人员信息", val:5},
        {id:8, group:3, name:"物资信息", val:5},
        {id:9, group:3, name:"财政信息", val:5},
        {id:10, group:3, name:"人员伤亡", val:5},
        {id:11, group:3, name:"特殊工程震害", val:5},
        {id:12, group:3, name:"房屋破坏", val:5},
        {id:13, group:3, name:"生命线震害", val:5},
        {id:14, group:3, name:"地震谣言", val:5},
        {id:15, group:3, name:"生产经营与流通震害", val:5},
        {id:16, group:3, name:"地面形变和破坏", val:5},
        {id:17, group:3, name:"次生灾害", val:5},
        {id:18, group:3, name:"组织机构运行能力震害", val:5},
        {id:19, group:3, name:"地震参数", val:5},
        {id:20, group:3, name:"预报信息", val:5},
        {id:21, group:3, name:"强震监测信息", val:5},
        {id:22, group:3, name:"测震监测信息", val:5},
        {id:23, group:3, name:"灾民救助信息", val:5},
        {id:24, group:3, name:"物资发放信息", val:5},
        {id:25, group:3, name:"生命线修复信息", val:5},
        {id:26, group:3, name:"生产经营与流通恢复信息", val:5},
        {id:27, group:3, name:"地震测震台站架设信息", val:5},
        {id:28, group:3, name:"灾评信息", val:5},
        {id:29, group:3, name:"地震应急指挥通信信息", val:5},
        {id:30, group:3, name:"地面形变和破坏处置信息", val:5},
        {id:31, group:3, name:"房屋修复信息", val:5},
        {id:32, group:3, name:"地震谣言平息信息", val:5},
        {id:33, group:3, name:"次生灾害处置信息", val:5},
        {id:34, group:3, name:"特殊工程修复信息", val:5},
        {id:35, group:3, name:"组织机构运行能力恢复信息", val:5},
        {id:36, group:4, name:"重要汇报", val:3},
        {id:37, group:4, name:"重要会商", val:3},
        {id:38, group:4, name:"重要会议", val:3},
        {id:39, group:4, name:"重要事件", val:3},
        {id:40, group:4, name:"重要指示", val:3},
        {id:41, group:4, name:"重要决策", val:3},
        {id:42, group:4, name:"重要请示", val:3},
        {id:43, group:4, name:"志愿者", val:3},
        {id:44, group:4, name:"新闻记者", val:3},
        {id:45, group:4, name:"通讯人员", val:3},
        {id:46, group:4, name:"解放军", val:3},
        {id:47, group:4, name:"武警", val:3},
        {id:48, group:4, name:"医护人员", val:3},
        {id:49, group:4, name:"地震应急指挥人员", val:3},
        {id:50, group:4, name:"灾评人员", val:3},
        {id:51, group:4, name:"消防人员", val:3},
        {id:52, group:4, name:"生命搜救物资", val:3},
        {id:53, group:4, name:"交通物资", val:3},
        {id:54, group:4, name:"电力", val:3},
        {id:55, group:4, name:"医疗物资", val:3},
        {id:56, group:4, name:"生活消耗物资", val:3},
        {id:57, group:4, name:"通讯物资", val:3},
        {id:58, group:4, name:"社会捐赠", val:3},
        {id:59, group:4, name:"政策拨款", val:3},
        {id:60, group:4, name:"受伤", val:3},
        {id:61, group:4, name:"死亡", val:3},
        {id:62, group:4, name:"构筑类", val:3},
        {id:63, group:4, name:"地下工程", val:3},
        {id:64, group:4, name:"重要设施", val:3},
        {id:65, group:4, name:"土木和水工", val:3},
        {id:66, group:4, name:"通信系统", val:3},
        {id:67, group:4, name:"交通系统", val:3},
        {id:68, group:4, name:"供气系统", val:3},
        {id:69, group:4, name:"供水系统", val:3},
        {id:70, group:4, name:"排水系统", val:3},
        {id:71, group:4, name:"供电系统", val:3},
        {id:72, group:4, name:"工业", val:3},
        {id:73, group:4, name:"农业", val:3},
        {id:74, group:4, name:"服务业", val:3},
        {id:75, group:4, name:"地裂", val:3},
        {id:76, group:4, name:"震陷", val:3},
        {id:77, group:4, name:"断层", val:3},
        {id:78, group:4, name:"喷砂", val:3},
        {id:79, group:4, name:"冒水", val:3},
        {id:80, group:4, name:"砂土液化", val:3},
        {id:81, group:4, name:"滑坡", val:3},
        {id:82, group:4, name:"坍塌", val:3},
        {id:83, group:4, name:"泥石流", val:3},
        {id:84, group:4, name:"填塞", val:3},
        {id:85, group:4, name:"火灾", val:3},
        {id:86, group:4, name:"毒气", val:3},
        {id:87, group:4, name:"爆炸", val:3},
        {id:88, group:4, name:"滚石", val:3},
        {id:89, group:4, name:"瘟疫", val:3},
        {id:90, group:4, name:"环境污染", val:3},
        {id:91, group:4, name:"各级政府", val:3},
        {id:92, group:4, name:"民政", val:3},
        {id:93, group:4, name:"部队", val:3},
        {id:94, group:4, name:"武警", val:3},
        {id:95, group:4, name:"公安", val:3},
        {id:96, group:4, name:"医疗卫生", val:3},
        {id:97, group:4, name:"消防", val:3},
        {id:98, group:4, name:"地震序列", val:3},
        {id:99, group:4, name:"预报信息", val:3},
        {id:100, group:4, name:"宏观异常信息", val:3},
        {id:101, group:4, name:"烈度信息", val:3},
        {id:102, group:4, name:"地震动峰值加速度信息", val:3},
        {id:103, group:4, name:"主震震中分布信息", val:3},
        {id:104, group:4, name:"地震记录波形信息", val:3},
        {id:105, group:4, name:"已搜救灾民", val:3},
        {id:106, group:4, name:"安置灾民", val:3},
        {id:107, group:4, name:"掩埋尸体", val:3},
        {id:108, group:4, name:"医治灾民", val:3},
        {id:109, group:4, name:"饮食", val:3},
        {id:110, group:4, name:"医药", val:3},
        {id:111, group:4, name:"御寒物", val:3},
        {id:112, group:4, name:"交通系统", val:3},
        {id:113, group:4, name:"供电系统", val:3},
        {id:114, group:4, name:"供气系统", val:3},
        {id:115, group:4, name:"排水系统", val:3},
        {id:116, group:4, name:"供水系统", val:3},
        {id:117, group:4, name:"通信系统", val:3},
        {id:118, group:4, name:"服务业", val:3},
        {id:119, group:4, name:"农业", val:3},
        {id:120, group:4, name:"工业", val:3},
        {id:121, group:4, name:"经济损失信息", val:3},
        {id:122, group:4, name:"烈度信息", val:3},
        {id:123, group:4, name:"通信保障信息", val:3},
        {id:124, group:4, name:"通信平台架设信息", val:3},
        {id:125, group:4, name:"砂土液化", val:3},
        {id:126, group:4, name:"喷砂", val:3},
        {id:127, group:4, name:"冒水", val:3},
        {id:128, group:4, name:"震陷", val:3},
        {id:129, group:4, name:"地震断层", val:3},
        {id:130, group:4, name:"地裂", val:3},
        {id:131, group:4, name:"崩塌", val:3},
        {id:132, group:4, name:"滚石", val:3},
        {id:133, group:4, name:"泥石流", val:3},
        {id:134, group:4, name:"滑坡", val:3},
        {id:135, group:4, name:"填塞", val:3},
        {id:136, group:4, name:"火灾", val:3},
        {id:137, group:4, name:"毒气", val:3},
        {id:138, group:4, name:"爆炸", val:3},
        {id:139, group:4, name:"环境污染", val:3},
        {id:140, group:4, name:"瘟疫", val:3},
        {id:141, group:4, name:"地下工程", val:3},
        {id:142, group:4, name:"构筑类", val:3},
        {id:143, group:4, name:"重要设施", val:3},
        {id:144, group:4, name:"土木和水工", val:3},
        {id:145, group:4, name:"武警", val:3},
        {id:146, group:4, name:"公安部队", val:3},
        {id:147, group:4, name:"消防", val:3},
        {id:148, group:4, name:"民政", val:3},
        {id:149, group:4, name:"各级政府", val:3},
        {id:150, group:4, name:"医疗卫生", val:3},
        {id:151, group:5, name:"时间", val:1},
        {id:152, group:5, name:"地点", val:1},
        {id:153, group:5, name:"组织部门", val:1},
        {id:154, group:5, name:"主要内容", val:1},
        {id:155, group:5, name:"投入时间", val:1},
        {id:156, group:5, name:"归属单位", val:1},
        {id:157, group:5, name:"投入地区", val:1},
        {id:158, group:5, name:"人次", val:1},
        {id:159, group:5, name:"投入时间", val:1},
        {id:160, group:5, name:"来源", val:1},
        {id:161, group:5, name:"投入地区", val:1},
        {id:162, group:5, name:"类别", val:1},
        {id:163, group:5, name:"管理部门", val:1},
        {id:164, group:5, name:"数量", val:1},
        {id:165, group:5, name:"名称", val:1},
        {id:166, group:5, name:"来源", val:1},
        {id:167, group:5, name:"余额", val:1},
        {id:168, group:5, name:"投入地区", val:1},
        {id:169, group:5, name:"年龄", val:1},
        {id:170, group:5, name:"场地性质", val:1},
        {id:171, group:5, name:"民族", val:1},
        {id:172, group:5, name:"性别", val:1},
        {id:173, group:5, name:"位置", val:1},
        {id:174, group:5, name:"地点", val:1},
        {id:175, group:5, name:"数量", val:1},
        {id:176, group:5, name:"时间", val:1},
        {id:177, group:5, name:"造成原因", val:1},
        {id:178, group:5, name:"地点", val:1},
        {id:179, group:5, name:"位置", val:1},
        {id:180, group:5, name:"名称", val:1},
        {id:181, group:5, name:"破坏程度", val:1},
        {id:182, group:5, name:"名称", val:1},
        {id:183, group:5, name:"地点", val:1},
        {id:184, group:5, name:"破坏程度", val:1},
        {id:185, group:5, name:"影响范围", val:1},
        {id:186, group:5, name:"位置", val:1},
        {id:187, group:5, name:"名称", val:1},
        {id:188, group:5, name:"位置", val:1},
        {id:189, group:5, name:"地点", val:1},
        {id:190, group:5, name:"破坏程度", val:1},
        {id:191, group:5, name:"地形地貌", val:1},
        {id:192, group:5, name:"地点", val:1},
        {id:193, group:5, name:"破坏类型", val:1},
        {id:194, group:5, name:"规模", val:1},
        {id:195, group:5, name:"地质条件", val:1},
        {id:196, group:5, name:"位置", val:1},
        {id:197, group:5, name:"地点", val:1},
        {id:198, group:5, name:"类型", val:1},
        {id:199, group:5, name:"时间", val:1},
        {id:200, group:5, name:"规模", val:1},
        {id:201, group:5, name:"影响范围", val:1},
        {id:202, group:5, name:"破坏程度", val:1},
        {id:203, group:5, name:"规模（人数）", val:1},
        {id:204, group:5, name:"名称", val:1},
        {id:205, group:5, name:"地点", val:1},
        {id:206, group:5, name:"位置", val:1},
        {id:207, group:5, name:"社会影响", val:1},
        {id:208, group:5, name:"主要内容", val:1},
        {id:209, group:5, name:"演变", val:1},
        {id:210, group:5, name:"传播区", val:1},
        {id:211, group:5, name:"建筑年代", val:1},
        {id:212, group:5, name:"房屋类别", val:1},
        {id:213, group:5, name:"破坏等级", val:1},
        {id:214, group:5, name:"数量", val:1},
        {id:215, group:5, name:"提供部门", val:1},
        {id:216, group:5, name:"地震名称", val:1},
        {id:217, group:5, name:"地震三要素", val:1},
        {id:218, group:5, name:"序号", val:1},
        {id:219, group:5, name:"地震三要素", val:1},
        {id:220, group:5, name:"精度", val:1},
        {id:221, group:5, name:"来源", val:1},
        {id:222, group:5, name:"时间", val:1},
        {id:223, group:5, name:"地区", val:1},
        {id:224, group:5, name:"震级", val:1},
        {id:225, group:5, name:"异常表现", val:1},
        {id:226, group:5, name:"幅度", val:1},
        {id:227, group:5, name:"位置", val:1},
        {id:228, group:5, name:"规模", val:1},
        {id:229, group:5, name:"地点", val:1},
        {id:230, group:5, name:"持续时间", val:1},
        {id:231, group:5, name:"提供部门", val:1},
        {id:232, group:5, name:"位置", val:1},
        {id:233, group:5, name:"地点", val:1},
        {id:234, group:5, name:"编号", val:1},
        {id:235, group:5, name:"按行业规范描述", val:1},
        {id:236, group:5, name:"提供部门", val:1},
        {id:237, group:5, name:"地点", val:1},
        {id:238, group:5, name:"救助单位", val:1},
        {id:239, group:5, name:"位置", val:1},
        {id:240, group:5, name:"时间", val:1},
        {id:241, group:5, name:"性别", val:1},
        {id:242, group:5, name:"年龄", val:1},
        {id:243, group:5, name:"数量", val:1},
        {id:244, group:5, name:"民族", val:1},
        {id:245, group:5, name:"名称", val:1},
        {id:246, group:5, name:"数量", val:1},
        {id:247, group:5, name:"发放部门", val:1},
        {id:248, group:5, name:"发放区", val:1},
        {id:249, group:5, name:"修复单位", val:1},
        {id:250, group:5, name:"名称", val:1},
        {id:251, group:5, name:"位置", val:1},
        {id:252, group:5, name:"时间", val:1},
        {id:253, group:5, name:"地点", val:1},
        {id:254, group:5, name:"恢复程度", val:1},
        {id:255, group:5, name:"地点", val:1},
        {id:256, group:5, name:"恢复程度", val:1},
        {id:257, group:5, name:"名称", val:1},
        {id:258, group:5, name:"位置", val:1},
        {id:259, group:5, name:"时间", val:1},
        {id:260, group:5, name:"评估单位", val:1},
        {id:261, group:5, name:"数量", val:1},
        {id:262, group:5, name:"地区", val:1},
        {id:263, group:5, name:"典型震害", val:1},
        {id:264, group:5, name:"调查单位", val:1},
        {id:265, group:5, name:"烈度值", val:1},
        {id:266, group:5, name:"范围", val:1},
        {id:267, group:4, name:"烈度异常信息", val:3},
        {id:268, group:5, name:"调查单位", val:1},
        {id:269, group:5, name:"类型", val:1},
        {id:270, group:5, name:"烈度", val:1},
        {id:271, group:5, name:"位置", val:1},
        {id:272, group:5, name:"完成单位", val:1},
        {id:273, group:5, name:"方式", val:1},
        {id:274, group:5, name:"内容", val:1},
        {id:275, group:5, name:"时间", val:1},
        {id:276, group:5, name:"架设时间", val:1},
        {id:277, group:5, name:"数量", val:1},
        {id:278, group:5, name:"位置", val:1},
        {id:279, group:5, name:"地点", val:1},
        {id:280, group:5, name:"架设单位", val:1},
        {id:281, group:5, name:"时间", val:1},
        {id:282, group:5, name:"地形地貌条件", val:1},
        {id:283, group:5, name:"规模", val:1},
        {id:284, group:5, name:"地质条件", val:1},
        {id:285, group:5, name:"处置部门", val:1},
        {id:286, group:5, name:"地点", val:1},
        {id:287, group:5, name:"位置", val:1},
        {id:288, group:5, name:"名称", val:1},
        {id:289, group:5, name:"规模", val:1},
        {id:290, group:5, name:"地点", val:1},
        {id:291, group:5, name:"处置单位", val:1},
        {id:292, group:5, name:"影响范围", val:1},
        {id:293, group:5, name:"修复单位", val:1},
        {id:294, group:5, name:"位置", val:1},
        {id:295, group:5, name:"恢复程度", val:1},
        {id:296, group:5, name:"名称", val:1},
        {id:297, group:5, name:"地点", val:1},
        {id:298, group:5, name:"时间", val:1},
        {id:299, group:5, name:"规模（人数）", val:1},
        {id:300, group:5, name:"破坏程度", val:1},
        {id:301, group:5, name:"地点", val:1},
        {id:302, group:5, name:"恢复程度", val:1},
        {id:303, group:5, name:"位置", val:1},
        {id:304, group:5, name:"名称", val:1},
        {id:305, group:5, name:"架设单位", val:1},
        {id:306, group:5, name:"建设时间", val:1},
        {id:307, group:5, name:"数量", val:1},
        {id:308, group:5, name:"位置", val:1},
        {id:309, group:5, name:"地点", val:1},
        {id:310, group:5, name:"数量", val:1},
        {id:311, group:5, name:"破坏等级", val:1},
        {id:312, group:5, name:"类型", val:1},
        {id:313, group:5, name:"建筑年代", val:1},
        {id:314, group:5, name:"建筑材料", val:1},
        {id:315, group:5, name:"时间", val:1},
        {id:316, group:5, name:"传播区", val:1},
        {id:317, group:5, name:"演变", val:1},
        {id:318, group:5, name:"主要内容", val:1},
        {id:319, group:5, name:"平息部门", val:1},
        {id:320, group:5, name:"平息程度", val:1},
        {id:321, group:5, name:"时间", val:1}
      ],
      links: [
        {source:1, target:2},
        {source:1, target:3},
        {source:1, target:4},
        {source:1, target:5},
        {source:4, target:6},
        {source:4, target:7},
        {source:4, target:8},
        {source:4, target:9},
        {source:2, target:10},
        {source:2, target:11},
        {source:2, target:12},
        {source:2, target:13},
        {source:2, target:14},
        {source:2, target:15},
        {source:2, target:16},
        {source:2, target:17},
        {source:2, target:18},
        {source:3, target:19},
        {source:3, target:20},
        {source:3, target:21},
        {source:3, target:22},
        {source:5, target:23},
        {source:5, target:24},
        {source:5, target:25},
        {source:5, target:26},
        {source:5, target:27},
        {source:5, target:28},
        {source:5, target:29},
        {source:5, target:30},
        {source:5, target:31},
        {source:5, target:32},
        {source:5, target:33},
        {source:5, target:34},
        {source:5, target:35},
        {source:6, target:36},
        {source:6, target:37},
        {source:6, target:38},
        {source:6, target:39},
        {source:6, target:40},
        {source:6, target:41},
        {source:6, target:42},
        {source:7, target:43},
        {source:7, target:44},
        {source:7, target:45},
        {source:7, target:46},
        {source:7, target:47},
        {source:7, target:48},
        {source:7, target:49},
        {source:7, target:50},
        {source:7, target:51},
        {source:8, target:52},
        {source:8, target:53},
        {source:8, target:54},
        {source:8, target:55},
        {source:8, target:56},
        {source:8, target:57},
        {source:9, target:58},
        {source:9, target:59},
        {source:10, target:60},
        {source:10, target:61},
        {source:11, target:62},
        {source:11, target:63},
        {source:11, target:64},
        {source:11, target:65},
        {source:13, target:66},
        {source:13, target:67},
        {source:13, target:68},
        {source:13, target:69},
        {source:13, target:70},
        {source:13, target:71},
        {source:15, target:72},
        {source:15, target:73},
        {source:15, target:74},
        {source:16, target:75},
        {source:16, target:76},
        {source:16, target:77},
        {source:16, target:78},
        {source:16, target:79},
        {source:16, target:80},
        {source:17, target:81},
        {source:17, target:82},
        {source:17, target:83},
        {source:17, target:84},
        {source:17, target:85},
        {source:17, target:86},
        {source:17, target:87},
        {source:17, target:88},
        {source:17, target:89},
        {source:17, target:90},
        {source:18, target:91},
        {source:18, target:92},
        {source:18, target:93},
        {source:18, target:94},
        {source:18, target:95},
        {source:18, target:96},
        {source:18, target:97},
        {source:20, target:98},
        {source:20, target:99},
        {source:20, target:100},
        {source:21, target:101},
        {source:21, target:102},
        {source:22, target:103},
        {source:22, target:104},
        {source:23, target:105},
        {source:23, target:106},
        {source:23, target:107},
        {source:23, target:108},
        {source:24, target:109},
        {source:24, target:110},
        {source:24, target:111},
        {source:25, target:112},
        {source:25, target:113},
        {source:25, target:114},
        {source:25, target:115},
        {source:25, target:116},
        {source:25, target:117},
        {source:26, target:118},
        {source:26, target:119},
        {source:26, target:120},
        {source:28, target:121},
        {source:28, target:122},
        {source:29, target:123},
        {source:29, target:124},
        {source:30, target:125},
        {source:30, target:126},
        {source:30, target:127},
        {source:30, target:128},
        {source:30, target:129},
        {source:30, target:130},
        {source:33, target:131},
        {source:33, target:132},
        {source:33, target:133},
        {source:33, target:134},
        {source:33, target:135},
        {source:33, target:136},
        {source:33, target:137},
        {source:33, target:138},
        {source:33, target:139},
        {source:33, target:140},
        {source:34, target:141},
        {source:34, target:142},
        {source:34, target:143},
        {source:34, target:144},
        {source:35, target:145},
        {source:35, target:146},
        {source:35, target:147},
        {source:35, target:148},
        {source:35, target:149},
        {source:35, target:150},
        {source:36, target:151},
        {source:36, target:152},
        {source:36, target:153},
        {source:36, target:154},
        {source:37, target:151},
        {source:37, target:152},
        {source:37, target:153},
        {source:37, target:154},
        {source:38, target:151},
        {source:38, target:152},
        {source:38, target:153},
        {source:38, target:154},
        {source:39, target:151},
        {source:39, target:152},
        {source:39, target:153},
        {source:39, target:154},
        {source:40, target:151},
        {source:40, target:152},
        {source:40, target:153},
        {source:40, target:154},
        {source:41, target:151},
        {source:41, target:152},
        {source:41, target:153},
        {source:41, target:154},
        {source:42, target:151},
        {source:42, target:152},
        {source:42, target:153},
        {source:42, target:154},
        {source:43, target:155},
        {source:43, target:156},
        {source:43, target:157},
        {source:43, target:158},
        {source:44, target:155},
        {source:44, target:156},
        {source:44, target:157},
        {source:44, target:158},
        {source:45, target:155},
        {source:45, target:156},
        {source:45, target:157},
        {source:45, target:158},
        {source:46, target:155},
        {source:46, target:156},
        {source:46, target:157},
        {source:46, target:158},
        {source:47, target:155},
        {source:47, target:156},
        {source:47, target:157},
        {source:47, target:158},
        {source:48, target:155},
        {source:48, target:156},
        {source:48, target:157},
        {source:48, target:158},
        {source:49, target:155},
        {source:49, target:156},
        {source:49, target:157},
        {source:49, target:158},
        {source:50, target:155},
        {source:50, target:156},
        {source:50, target:157},
        {source:50, target:158},
        {source:51, target:155},
        {source:51, target:156},
        {source:51, target:157},
        {source:51, target:158},
        {source:52, target:159},
        {source:52, target:160},
        {source:52, target:161},
        {source:52, target:162},
        {source:52, target:163},
        {source:52, target:164},
        {source:52, target:165},
        {source:53, target:159},
        {source:53, target:160},
        {source:53, target:161},
        {source:53, target:162},
        {source:53, target:163},
        {source:53, target:164},
        {source:53, target:165},
        {source:54, target:159},
        {source:54, target:160},
        {source:54, target:161},
        {source:54, target:162},
        {source:54, target:163},
        {source:54, target:164},
        {source:54, target:165},
        {source:55, target:159},
        {source:55, target:160},
        {source:55, target:161},
        {source:55, target:162},
        {source:55, target:163},
        {source:55, target:164},
        {source:55, target:165},
        {source:56, target:159},
        {source:56, target:160},
        {source:56, target:161},
        {source:56, target:162},
        {source:56, target:163},
        {source:56, target:164},
        {source:56, target:165},
        {source:57, target:159},
        {source:57, target:160},
        {source:57, target:161},
        {source:57, target:162},
        {source:57, target:163},
        {source:57, target:164},
        {source:57, target:165},
        {source:58, target:166},
        {source:58, target:167},
        {source:58, target:168},
        {source:59, target:166},
        {source:59, target:167},
        {source:59, target:168},
        {source:60, target:169},
        {source:60, target:170},
        {source:60, target:171},
        {source:60, target:172},
        {source:61, target:173},
        {source:61, target:174},
        {source:61, target:175},
        {source:61, target:176},
        {source:61, target:177},
        {source:62, target:178},
        {source:62, target:179},
        {source:62, target:180},
        {source:62, target:181},
        {source:63, target:178},
        {source:63, target:179},
        {source:63, target:180},
        {source:63, target:181},
        {source:64, target:178},
        {source:64, target:179},
        {source:64, target:180},
        {source:64, target:181},
        {source:65, target:178},
        {source:65, target:179},
        {source:65, target:180},
        {source:65, target:181},
        {source:66, target:182},
        {source:66, target:183},
        {source:66, target:184},
        {source:66, target:185},
        {source:66, target:186},
        {source:67, target:182},
        {source:67, target:183},
        {source:67, target:184},
        {source:67, target:185},
        {source:67, target:186},
        {source:68, target:182},
        {source:68, target:183},
        {source:68, target:184},
        {source:68, target:185},
        {source:68, target:186},
        {source:69, target:182},
        {source:69, target:183},
        {source:69, target:184},
        {source:69, target:185},
        {source:69, target:186},
        {source:70, target:182},
        {source:70, target:183},
        {source:70, target:184},
        {source:70, target:185},
        {source:70, target:186},
        {source:71, target:182},
        {source:71, target:183},
        {source:71, target:184},
        {source:71, target:185},
        {source:71, target:186},
        {source:72, target:187},
        {source:72, target:188},
        {source:72, target:189},
        {source:72, target:190},
        {source:73, target:187},
        {source:73, target:188},
        {source:73, target:189},
        {source:73, target:190},
        {source:74, target:187},
        {source:74, target:188},
        {source:74, target:189},
        {source:74, target:190},
        {source:75, target:191},
        {source:75, target:192},
        {source:75, target:193},
        {source:75, target:194},
        {source:75, target:195},
        {source:76, target:191},
        {source:76, target:192},
        {source:76, target:193},
        {source:76, target:194},
        {source:76, target:195},
        {source:77, target:191},
        {source:77, target:192},
        {source:77, target:193},
        {source:77, target:194},
        {source:77, target:195},
        {source:78, target:191},
        {source:78, target:192},
        {source:78, target:193},
        {source:78, target:194},
        {source:78, target:195},
        {source:79, target:191},
        {source:79, target:192},
        {source:79, target:193},
        {source:79, target:194},
        {source:79, target:195},
        {source:80, target:191},
        {source:80, target:192},
        {source:80, target:193},
        {source:80, target:194},
        {source:80, target:195},
        {source:81, target:196},
        {source:81, target:197},
        {source:81, target:198},
        {source:81, target:199},
        {source:81, target:200},
        {source:81, target:201},
        {source:82, target:196},
        {source:82, target:197},
        {source:82, target:198},
        {source:82, target:199},
        {source:82, target:200},
        {source:82, target:201},
        {source:83, target:196},
        {source:83, target:197},
        {source:83, target:198},
        {source:83, target:199},
        {source:83, target:200},
        {source:83, target:201},
        {source:84, target:196},
        {source:84, target:197},
        {source:84, target:198},
        {source:84, target:199},
        {source:84, target:200},
        {source:84, target:201},
        {source:85, target:196},
        {source:85, target:197},
        {source:85, target:198},
        {source:85, target:199},
        {source:85, target:200},
        {source:85, target:201},
        {source:86, target:196},
        {source:86, target:197},
        {source:86, target:198},
        {source:86, target:199},
        {source:86, target:200},
        {source:86, target:201},
        {source:87, target:196},
        {source:87, target:197},
        {source:87, target:198},
        {source:87, target:199},
        {source:87, target:200},
        {source:87, target:201},
        {source:88, target:196},
        {source:88, target:197},
        {source:88, target:198},
        {source:88, target:199},
        {source:88, target:200},
        {source:88, target:201},
        {source:89, target:196},
        {source:89, target:197},
        {source:89, target:198},
        {source:89, target:199},
        {source:89, target:200},
        {source:89, target:201},
        {source:90, target:196},
        {source:90, target:197},
        {source:90, target:198},
        {source:90, target:199},
        {source:90, target:200},
        {source:90, target:201},
        {source:91, target:202},
        {source:91, target:203},
        {source:91, target:204},
        {source:91, target:205},
        {source:91, target:206},
        {source:92, target:202},
        {source:92, target:203},
        {source:92, target:204},
        {source:92, target:205},
        {source:92, target:206},
        {source:93, target:202},
        {source:93, target:203},
        {source:93, target:204},
        {source:93, target:205},
        {source:93, target:206},
        {source:94, target:202},
        {source:94, target:203},
        {source:94, target:204},
        {source:94, target:205},
        {source:94, target:206},
        {source:95, target:202},
        {source:95, target:203},
        {source:95, target:204},
        {source:95, target:205},
        {source:95, target:206},
        {source:96, target:202},
        {source:96, target:203},
        {source:96, target:204},
        {source:96, target:205},
        {source:96, target:206},
        {source:97, target:202},
        {source:97, target:203},
        {source:97, target:204},
        {source:97, target:205},
        {source:97, target:206},
        {source:14, target:207},
        {source:14, target:208},
        {source:14, target:209},
        {source:14, target:210},
        {source:12, target:211},
        {source:12, target:212},
        {source:12, target:213},
        {source:12, target:214},
        {source:19, target:215},
        {source:19, target:216},
        {source:19, target:217},
        {source:98, target:218},
        {source:98, target:219},
        {source:98, target:220},
        {source:99, target:221},
        {source:99, target:222},
        {source:99, target:223},
        {source:99, target:224},
        {source:100, target:225},
        {source:100, target:226},
        {source:100, target:227},
        {source:100, target:228},
        {source:100, target:229},
        {source:100, target:230},
        {source:101, target:231},
        {source:101, target:232},
        {source:102, target:233},
        {source:102, target:234},
        {source:103, target:235},
        {source:103, target:236},
        {source:104, target:235},
        {source:104, target:236},
        {source:105, target:237},
        {source:105, target:238},
        {source:106, target:239},
        {source:107, target:240},
        {source:108, target:241},
        {source:108, target:242},
        {source:108, target:243},
        {source:108, target:244},
        {source:109, target:245},
        {source:109, target:246},
        {source:109, target:247},
        {source:109, target:248},
        {source:110, target:245},
        {source:110, target:246},
        {source:110, target:247},
        {source:110, target:248},
        {source:111, target:245},
        {source:111, target:246},
        {source:111, target:247},
        {source:111, target:248},
        {source:112, target:249},
        {source:112, target:250},
        {source:112, target:251},
        {source:112, target:252},
        {source:112, target:253},
        {source:112, target:254},
        {source:113, target:249},
        {source:113, target:250},
        {source:113, target:251},
        {source:113, target:252},
        {source:113, target:253},
        {source:113, target:254},
        {source:114, target:249},
        {source:114, target:250},
        {source:114, target:251},
        {source:114, target:252},
        {source:114, target:253},
        {source:114, target:254},
        {source:115, target:249},
        {source:115, target:250},
        {source:115, target:251},
        {source:115, target:252},
        {source:115, target:253},
        {source:115, target:254},
        {source:116, target:249},
        {source:116, target:250},
        {source:116, target:251},
        {source:116, target:252},
        {source:116, target:253},
        {source:116, target:254},
        {source:117, target:249},
        {source:117, target:250},
        {source:117, target:251},
        {source:117, target:252},
        {source:117, target:253},
        {source:117, target:254},
        {source:118, target:255},
        {source:118, target:256},
        {source:118, target:257},
        {source:118, target:258},
        {source:118, target:259},
        {source:119, target:255},
        {source:119, target:256},
        {source:119, target:257},
        {source:119, target:258},
        {source:119, target:259},
        {source:120, target:255},
        {source:120, target:256},
        {source:120, target:257},
        {source:120, target:258},
        {source:120, target:259},
        {source:121, target:260},
        {source:121, target:261},
        {source:121, target:262},
        {source:122, target:263},
        {source:122, target:264},
        {source:122, target:265},
        {source:122, target:266},
        {source:28, target:267},
        {source:267, target:268},
        {source:267, target:269},
        {source:267, target:270},
        {source:267, target:271},
        {source:123, target:272},
        {source:123, target:273},
        {source:123, target:274},
        {source:123, target:275},
        {source:124, target:276},
        {source:124, target:277},
        {source:124, target:278},
        {source:124, target:279},
        {source:124, target:280},
        {source:125, target:281},
        {source:125, target:282},
        {source:125, target:283},
        {source:125, target:284},
        {source:125, target:285},
        {source:125, target:286},
        {source:126, target:281},
        {source:126, target:282},
        {source:126, target:283},
        {source:126, target:284},
        {source:126, target:285},
        {source:126, target:286},
        {source:127, target:281},
        {source:127, target:282},
        {source:127, target:283},
        {source:127, target:284},
        {source:127, target:285},
        {source:127, target:286},
        {source:128, target:281},
        {source:128, target:282},
        {source:128, target:283},
        {source:128, target:284},
        {source:128, target:285},
        {source:128, target:286},
        {source:129, target:281},
        {source:129, target:282},
        {source:129, target:283},
        {source:129, target:284},
        {source:129, target:285},
        {source:129, target:286},
        {source:130, target:281},
        {source:130, target:282},
        {source:130, target:283},
        {source:130, target:284},
        {source:130, target:285},
        {source:130, target:286},
        {source:131, target:287},
        {source:131, target:288},
        {source:131, target:289},
        {source:131, target:290},
        {source:131, target:291},
        {source:131, target:292},
        {source:132, target:287},
        {source:132, target:288},
        {source:132, target:289},
        {source:132, target:290},
        {source:132, target:291},
        {source:132, target:292},
        {source:133, target:287},
        {source:133, target:288},
        {source:133, target:289},
        {source:133, target:290},
        {source:133, target:291},
        {source:133, target:292},
        {source:134, target:287},
        {source:134, target:288},
        {source:134, target:289},
        {source:134, target:290},
        {source:134, target:291},
        {source:134, target:292},
        {source:135, target:287},
        {source:135, target:288},
        {source:135, target:289},
        {source:135, target:290},
        {source:135, target:291},
        {source:135, target:292},
        {source:136, target:287},
        {source:136, target:288},
        {source:136, target:289},
        {source:136, target:290},
        {source:136, target:291},
        {source:136, target:292},
        {source:137, target:287},
        {source:137, target:288},
        {source:137, target:289},
        {source:137, target:290},
        {source:137, target:291},
        {source:137, target:292},
        {source:138, target:287},
        {source:138, target:288},
        {source:138, target:289},
        {source:138, target:290},
        {source:138, target:291},
        {source:138, target:292},
        {source:139, target:287},
        {source:139, target:288},
        {source:139, target:289},
        {source:139, target:290},
        {source:139, target:291},
        {source:139, target:292},
        {source:140, target:287},
        {source:140, target:288},
        {source:140, target:289},
        {source:140, target:290},
        {source:140, target:291},
        {source:140, target:292},
        {source:141, target:293},
        {source:141, target:294},
        {source:141, target:295},
        {source:141, target:296},
        {source:141, target:297},
        {source:142, target:293},
        {source:142, target:294},
        {source:142, target:295},
        {source:142, target:296},
        {source:142, target:297},
        {source:143, target:293},
        {source:143, target:294},
        {source:143, target:295},
        {source:143, target:296},
        {source:143, target:297},
        {source:144, target:293},
        {source:144, target:294},
        {source:144, target:295},
        {source:144, target:296},
        {source:144, target:297},
        {source:145, target:298},
        {source:145, target:299},
        {source:145, target:300},
        {source:145, target:301},
        {source:145, target:302},
        {source:145, target:303},
        {source:145, target:304},
        {source:146, target:298},
        {source:146, target:299},
        {source:146, target:300},
        {source:146, target:301},
        {source:146, target:302},
        {source:146, target:303},
        {source:146, target:304},
        {source:147, target:298},
        {source:147, target:299},
        {source:147, target:300},
        {source:147, target:301},
        {source:147, target:302},
        {source:147, target:303},
        {source:147, target:304},
        {source:148, target:298},
        {source:148, target:299},
        {source:148, target:300},
        {source:148, target:301},
        {source:148, target:302},
        {source:148, target:303},
        {source:148, target:304},
        {source:149, target:298},
        {source:149, target:299},
        {source:149, target:300},
        {source:149, target:301},
        {source:149, target:302},
        {source:149, target:303},
        {source:149, target:304},
        {source:150, target:298},
        {source:150, target:299},
        {source:150, target:300},
        {source:150, target:301},
        {source:150, target:302},
        {source:150, target:303},
        {source:150, target:304},
        {source:27, target:305},
        {source:27, target:306},
        {source:27, target:307},
        {source:27, target:308},
        {source:27, target:309},
        {source:31, target:310},
        {source:31, target:311},
        {source:31, target:312},
        {source:31, target:313},
        {source:31, target:314},
        {source:31, target:315},
        {source:32, target:316},
        {source:32, target:317},
        {source:32, target:318},
        {source:32, target:319},
        {source:32, target:320},
        {source:32, target:321}
      ]
    };
    
    const highlightNodes = new Set();
    const highlightLinks = new Set();
    let hoverNode = null;

    const Graph = ForceGraph3D()
      (document.getElementById('3d-graph'))
      .graphData(gData)
        .nodeLabel('name')
        //.nodeColor(node => highlightNodes.size === 0 ? node.group === 1 ?'rgba(238,188,128,0.8)' : 'rgba(85,109,65,0.9)': (highlightNodes.has(node) ? node.group === 2 ? 'rgba(126,178,113,0.9)' : 'rgba(234,216,138,0.8)' : (node.group === 1 ?'rgba(238,188,128,0.4)' : 'rgba(159,217,75,0.35)')))
        .nodeColor(node => highlightNodes.size === 0 ?
            node.group===1 ? 'rgba(160,50,50,0.9)':
            node.group===2 ? 'rgba(190,115,45,0.9)':
            node.group===3 ? 'rgba(70,115,200,0.8)':
            node.group==4 ? 'rgba(65,160,200,0.8)':'rgba(100,125,142,0.8)':
          (highlightNodes.has(node) ?
            node.group===1 ? 'rgba(180,70,70,0.9)':
            node.group===2? 'rgba(215,135,55,0.9)':
            node.group===3? 'rgba(95,140,230,0.8)':
            node.group==4? 'rgba(95,180,215,0.8)':'rgba(91,150,183,0.8)':
          (node.group===1 ? 'rgba(100,40,40,0.9)': 
            node.group===2? 'rgba(140,90,45,0.9)':
            node.group==3? 'rgba(60,90,145,0.8)':
            node.group==4? 'rgba(45,115,140,0.8)':'rgba(74,108,132,0.8)'
          //highlightNodes.size === 0 ? node.group === 1 ?'rgba(238,188,128,0.8)' : 'rgba(85,109,65,0.9)': (highlightNodes.has(node) ? node.group === 2 ? 'rgba(126,178,113,0.9)' : 'rgba(234,216,138,0.8)' : (node.group === 1 ?'rgba(238,188,128,0.4)' : 'rgba(159,217,75,0.35)')))
        )))
        .nodeVal(node => node.val*node.val*0.5)
        //.linkWidth(link => highlightLinks.has(link) ? link.value*link.value*2 : 0.5)
        .linkWidth(link => highlightLinks.has(link) ? 4 : 1)
        .linkDirectionalParticles(link => highlightLinks.has(link) ? 4 : 0)
        .linkDirectionalParticleWidth(4)
        .onNodeClick(node => {
          // Aim at node from outside it
          const distance = 100;
          const distRatio = 1 + distance/Math.hypot(node.x, node.y, node.z);

          const newPos = node.x || node.y || node.z
            ? { x: node.x * distRatio, y: node.y * distRatio, z: node.z * distRatio }
            : { x: 0, y: 0, z: distance }; // special case if node is in (0,0,0)

          Graph.cameraPosition(
            newPos, // new position
            node, // lookAt ({ x, y, z })
            5000  // ms transition duration
          );
        })
        .onNodeHover(node => {
          // no state change
          if ((!node && !highlightNodes.size) || (node && hoverNode === node)) return;

          highlightNodes.clear();
          highlightLinks.clear();
          if (node) {
            highlightNodes.add(node);
            gData.links.forEach(link => {
                if(link.target==node){
                  highlightNodes.add(link.source);
                  highlightLinks.add(link);
                }else if(link.source==node){
                  highlightNodes.add(link.target);
                  highlightLinks.add(link);
                }
              });
          }

          hoverNode = node || null;

          updateHighlight();
        })
        .onLinkHover(link => {
          highlightNodes.clear();
          highlightLinks.clear();
          if (link) {
            highlightLinks.add(link);
            highlightNodes.add(link.source);
            highlightNodes.add(link.target);
          }
          updateHighlight();
        });

    const bloomPass = new THREE.UnrealBloomPass();
    bloomPass.strength = 1.2;
    bloomPass.radius = 0.5;
    bloomPass.threshold = 0.1;
    Graph.postProcessingComposer().addPass(bloomPass);

    function updateHighlight() {
      // trigger update of highlighted objects in scene
      Graph
        .nodeColor(Graph.nodeColor())
        .linkWidth(Graph.linkWidth())
        .linkDirectionalParticles(Graph.linkDirectionalParticles());
    }
  </script>
</body>
